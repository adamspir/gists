== GraphGists

This repo contains content for use at http://gist.neo4j.org/.

//console

[source,cypher]
----
//Flights Service v2
create (:Service:Rest{Endpoint:'http://flights-v2.staging.api.e-travel.gr',name:'flights'});
create (:Server{name:'SDIAK-STAGING',ip:'10.227.1.47'});
create (:DatabaseServer{brand:'MSSQL'});
create (:Database{name:'Dreamflight'});
create (:Database{name:'Affiliates'});
create (:Database{name:'CommonInformation'});
create (:Database{name:'TravelInsurancesDB'});
create (:Database{name:'Rapida'});
create (:Database{name:'SabreSession'});
create (:Database{name:'Payments'});
create (:Database{name:'FlightsStateStorageStaging'});
create (:DatabaseServer{brand:'CouchBase'});
create (:DatabaseServer{brand:'CouchDB'});
create (:Database:AmazonBucket{name:'DFA'});
create (:Service:External{name:'Enett'});
create (:Service:External{name:'Sabre'});
create (:Service:External{name:'Amadeus'});
create (:Service:External{name:'TravelFusion'});
create (:Service:External{name:'Fraudpointer'});
create (:Service:External{name:'Perseuss'});
create (:Service:WEB{name:'Rapida_ws',Endpoint:'www.trip.ru/payment/rapidaservice.svc/payment_app'});
create (:Service:External{name:'Piraeus'});
create (:Service:External{name:'EFG'});
create (:DatabaseServer{brand:'Redis'});
create (:Queue{name:'FlightToCrm'});
create (:Queue{name:'FlightsConfirmationEmail'});
create (:Queue{name:'FlightRating'});
create (:Queue{name:'FlightToKumquat'});
create (:Application:Web{name:'LeWeb'});
create (:Application:Web{name:'Panoramix'});
create (:Application:Mobile{name:'Android'});
create (:Application:Mobile{name:'iOS'});
create (:Service:Rest{Endpoint:'mybookings-v1.staging.api.e-travel.gr',name:'My_bookings'});
create (:Service:WEB{Endpoint:'flightsws-v1.staging.api.e-travel.gr',name:'flights_ws'});
create (:Server{name:'AWSDIAK-STAGING',ip:'10.227.1.62'});
create (:Application:External{name:'MetaSearchers'});
create (:Service:Rest{Endpoint:'affiliates-v1.staging.api.e-travel.gr',name:'Affiliates'});
create (:Service:Rest{Endpoint:'rapidaservice-v1.staging.api.e-travel.gr',name:'Rapida'});
create (:Application:Web{name:'DFA'});
create (:Server{name:'WEBDIAK-STAGING',ip:'10.227.1.89'});
create (:Application:Web{name:'MyBookings'});
create (:Application:Web{name:'Affiliates'});
create (:Scheduled_task{name:'Affiliates_Sales_Updater'});
create (:SNS{name:'Sales'});
create (:Server{name:'PDBACK-STAGING',ip:'10.227.1.154'});
create (:Scheduled_task{name:'AutoCancelPNR'});
create (:Scheduled_task{name:'FlightsToCRM'});
create (:Application:PaliaMalakia{name:'OldCRM'});
create (:Scheduled_task{name:'SabrePoolAgent'});
create (:Service:Windows{name:'AutoticketingServiceWorkerService'});
create (:Queue{name:'Autoticketing'});



match (a:Service {name: 'AutoticketingServiceWorkerService'}), (b:Server {name: 'PDBACK-STAGING'})
create (a)-[:DEPLOYED_ON]->(b);

match (a:Service {name: 'AutoticketingServiceWorkerService'}), (b:Queue {name: 'Autoticketing'})
create (a)-[:READS_FROM]->(b);

match (a:Service {name: 'AutoticketingServiceWorkerService'}), (b:Service {name: 'Amadeus'})
create (a)-[:CALLS]->(b);

match (a:Service {name: 'AutoticketingServiceWorkerService'}), (b:Service {name: 'Sabre'})
create (a)-[:CALLS]->(b);

match (a:Queue {name: 'Autoticketing'}), (b:Queue {name: 'FlightToCrm'})
create (a)-[:STORES_IN]->(b);

match (a:Service {name: 'flights'}), (b:Queue {name: 'Autoticketing'})
create (a)-[:STORES_IN]->(b);

match (a:DatabaseServer {brand: 'Redis'}), (b:Queue {name: 'Autoticketing'})
create (a)-[:HOSTS]->(b);

match (a:Scheduled_task {name: 'SabrePoolAgent'}), (b:Server {name: 'PDBACK-STAGING'})
create (a)-[:DEPLOYED_ON]->(b);

match (a:Scheduled_task {name: 'SabrePoolAgent'}), (b:Database {name: 'SabreSession'})
create (a)-[:CLEAN]->(b);

match (a:Scheduled_task {name: 'FlightsToCRM'}), (b:Server {name: 'PDBACK-STAGING'})
create (a)-[:DEPLOYED_ON]->(b);

match (a:Scheduled_task {name: 'FlightsToCRM'}), (b:Application {name: 'OldCRM'})
create (a)-[:STORES_IN]->(b);

match (a:Scheduled_task {name: 'FlightsToCRM'}), (b:Queue {name: 'FlightToCrm'})
create (a)-[:READS_FROM]->(b);

match (a:Scheduled_task {name: 'AutoCancelPNR'}), (b:Server {name: 'PDBACK-STAGING'})
create (a)-[:DEPLOYED_ON]->(b);

match (a:Scheduled_task {name: 'AutoCancelPNR'}), (b:Service {name: 'Sabre'})
create (a)-[:CALLS]->(b);

match (a:Scheduled_task {name: 'AutoCancelPNR'}), (b:Database {name: 'Dreamflight'})
create (a)-[:READS_FROM]->(b);

match (a:Scheduled_task {name: 'Affiliates_Sales_Updater'}), (b:Server {name: 'PDBACK-STAGING'})
create (a)-[:DEPLOYED_ON]->(b);

match (a:Scheduled_task {name: 'Affiliates_Sales_Updater'}), (b:SNS {name: 'Sales'})
create (a)-[:READS_FROM]->(b);

match (a:Scheduled_task {name: 'Affiliates_Sales_Updater'}), (b:Database {name: 'Affiliates'})
create (a)-[:STORES_IN]->(b);

match (a:Application {name: 'Affiliates'}), (b:Server {name: 'WEBDIAK-STAGING'})
create (a)-[:DEPLOYED_ON]->(b);

match (a:Application {name: 'Affiliates'}), (b:Database {name: 'Affiliates'})
create (a)-[:STORES_IN]->(b);

match (a:Application {name: 'MyBookings'}), (b:Server {name: 'WEBDIAK-STAGING'})
create (a)-[:DEPLOYED_ON]->(b);

match (a:Application {name: 'DFA'}), (b:Server {name: 'WEBDIAK-STAGING'})
create (a)-[:DEPLOYED_ON]->(b);

match (a:Application {name: 'DFA'}), (b:Database {name: 'DFA'})
create (a)-[:STORES_IN]->(b);

match (a:Service {name: 'flights'}), (b:Service {name: 'Rapida'})
create (a)-[:CALLS]->(b);

match (a:Service {name: 'Rapida'}), (b:Server {name: 'SDIAK-STAGING'})
create (a)-[:DEPLOYED_ON]->(b);

match (a:Service {name: 'Affiliates'}), (b:Database {name: 'Affiliates'})
create (a)-[:STORES_IN]->(b);

match (a:Application {name: 'MetaSearchers'}) , (b:Service {name: 'flights_ws'})
create (a)-[:CALLED_BY]->(b);

match (a:Service {name: 'flights_ws'}), (b:Service {name: 'Anadeus'})
create (a)-[:CALLS]->(b);

match (a:Service {name: 'flights_ws'}), (b:Service {name: 'Sabre'})
create (a)-[:CALLS]->(b);

match (a:Service {name: 'flights_ws'}), (b:Database {name: 'DFA'})
create (a)-[:RETRIEVES_FROM]->(b);

match (a:Service {name: 'flights_ws'}), (b:Database {name: 'Dreamflight'})
create (a)-[:STORES_IN]->(b);

match (a:Service {name: 'flights_ws'}), (b:Database {name: 'FlightsStateStorageStaging'})
create (a)-[:STORES_IN]->(b);

match (a:Service {name: 'flights_ws'}), (b:Database {name: 'CommonInformation'})
create (a)-[:STORES_IN]->(b);

match (a:Service {name: 'flights_ws'}), (b:Database {name: 'SabreSession'})
create (a)-[:STORES_IN]->(b);

match (a:Service {name: 'flights_ws'}), (b:Database {name: 'Affiliates'})
create (a)-[:STORES_IN]->(b);

match (a:Service {name: 'flights_ws'}), (b:Server {name: 'AWSDIAK-STAGING'})
create (a)-[:DEPLOYED_ON]->(b);

match (a:Service {name: 'flights'}), (b:Server {name: 'SDIAK-STAGING'})
create (a)-[:DEPLOYED_ON]->(b);

match (a:Service {name: 'Affiliates'}), (b:Server {name: 'SDIAK-STAGING'})
create (a)-[:DEPLOYED_ON]->(b);

match (a:Service {name: 'My_bookings'}), (b:Server {name: 'SDIAK-STAGING'})
create (a)-[:DEPLOYED_ON]->(b);

match (a:DatabaseServer {brand: 'MSSQL'}), (b:Database {name: 'Dreamflight'})
create (a)-[:HOSTS]->(b);

match (a:DatabaseServer {brand: 'MSSQL'}), (b:Database {name: 'Affiliates'})
create (a)-[:HOSTS]->(b);

match (a:DatabaseServer {brand: 'MSSQL'}), (b:Database {name: 'CommonInformation'})
create (a)-[:HOSTS]->(b);

match (a:DatabaseServer {brand: 'MSSQL'}), (b:Database {name: 'TravelInsurancesDB'})
create (a)-[:HOSTS]->(b);

match (a:DatabaseServer {brand: 'MSSQL'}), (b:Database {name: 'Rapida'})
create (a)-[:HOSTS]->(b);

match (a:DatabaseServer {brand: 'MSSQL'}), (b:Database {name: 'SabreSession'})
create (a)-[:HOSTS]->(b);

match (a:DatabaseServer {brand: 'MSSQL'}), (b:Database {name: 'Payments'})
create (a)-[:HOSTS]->(b);

match (a:DatabaseServer {brand: 'CouchBase'}), (b:Database {name: 'FlightsStateStorageStaging'})
create (a)-[:HOSTS]->(b);

match (a:DatabaseServer {brand: 'Redis'}), (b:Queue {name: 'FlightToCrm'})
create (a)-[:HOSTS]->(b);

match (a:DatabaseServer {brand: 'Redis'}), (b:Queue {name: 'FlightsConfirmationEmail'})
create (a)-[:HOSTS]->(b);

match (a:DatabaseServer {brand: 'Redis'}), (b:Queue {name: 'FlightRating'})
create (a)-[:HOSTS]->(b);

match (a:DatabaseServer {brand: 'Redis'}), (b:Queue {name: 'FlightToKumquat'})
create (a)-[:HOSTS]->(b);

match (a:Service {name: 'flights'}), (b:Database {name: 'Dreamflight'})
create (a)-[:STORES_IN]->(b);

match (a:Service {name: 'flights'}), (b:Database {name: 'Affiliates'})
create (a)-[:STORES_IN]->(b);

match (a:Service {name: 'flights'}), (b:Database {name: 'CommonInformation'})
create (a)-[:STORES_IN]->(b);

match (a:Service {name: 'flights'}), (b:Database {name: 'TravelInsurancesDB'})
create (a)-[:STORES_IN]->(b);

match (a:Service {name: 'flights'}), (b:Database {name: 'Rapida'})
create (a)-[:STORES_IN]->(b);

match (a:Service {name: 'flights'}), (b:Database {name: 'SabreSession'})
create (a)-[:STORES_IN]->(b);

match (a:Service {name: 'flights'}), (b:Database {name: 'Payments'})
create (a)-[:STORES_IN]->(b);

match (a:Service {name: 'flights'}), (b:Database {name: 'FlightsStateStorageStaging'})
create (a)-[:STORES_IN]->(b);

match (a:Service {name: 'flights'}), (b:DatabaseServer {brand: 'CouchDB'})
create (a)-[:STORES_IN]->(b);

match (a:Service {name: 'flights'}), (b:Database {name: 'DFA'})
create (a)-[:RETRIEVES_FROM]->(b);

match (a:Service {name: 'flights'}), (b:Queue {name: 'FlightToCrm'})
create (a)-[:STORES_IN]->(b);

match (a:Service {name: 'flights'}), (b:Queue {name: 'FlightsConfirmationEmail'})
create (a)-[:STORES_IN]->(b);

match (a:Service {name: 'flights'}), (b:Queue {name: 'FlightRating'})
create (a)-[:STORES_IN]->(b);

match (a:Service {name: 'flights'}), (b:Queue {name: 'FlightToKumquat'})
create (a)-[:STORES_IN]->(b);


match (a:Service {name: 'flights'}), (b:Service {name: 'Enett'})
create (a)-[:CALLS]->(b);

match (a:Service {name: 'flights'}), (b:Service {name: 'Sabre'})
create (a)-[:CALLS]->(b);

match (a:Service {name: 'flights'}), (b:Service {name: 'Amadeus'})
create (a)-[:CALLS]->(b);

match (a:Service {name: 'flights'}), (b:Service {name: 'TravelFusion'})
create (a)-[:CALLS]->(b);

match (a:Service {name: 'flights'}), (b:Service {name: 'Fraudpointer'})
create (a)-[:CALLS]->(b);

match (a:Service {name: 'flights'}), (b:Service {name: 'Perseuss'})
create (a)-[:CALLS]->(b);

match (a:Service {name: 'flights'}), (b:Service {name: 'EFG'})
create (a)-[:CALLS]->(b);

match (a:Service {name: 'flights'}), (b:Service {name: 'Rapida_ws'})
create (a)-[:CALLS]->(b);

match (a:Service {name: 'flights'}), (b:Service {name: 'Piraeus'})
create (a)-[:CALLS]->(b);

match (a:Application {name: 'LeWeb'}) , (b:Service {name: 'flights'})
create (a)-[:CALLS]->(b);

match (a:Application {name: 'Panoramix'}) , (b:Service {name: 'flights'})
create (a)-[:CALLS]->(b);

match (a:Application {name: 'My_bookings'}) , (b:Service {name: 'flights'})
create (a)-[:CALLS]->(b);

match (a:Application {name: 'Android'}) , (b:Service {name: 'flights'})
create (a)-[:CALLS]->(b);

match (a:Application {name: 'iOS'}) , (b:Service {name: 'flights'})
create (a)-[:CALLS]->(b);




create (:Service{endpoint:'content-v1.staging.api.e-travel.gr', name: 'Content service'});
create (:Background_worker{name:'Hotels x-sell_emailer'});
create (:Background_worker{name:'AIR poster'});
create (:Service{endpoint:'http://refundservice-v1.staging.api.e-travel.gr/',name:'Refund service'});
create (:Scheduled_task{name:'Insurance CLI old'});
create (:Service{endpoint:'http://currencyservice-v1.production.api.e-travel.gr',name:'Currency service v1'});
create (:Scheduled_task{name:'Currencies updater v2'});
create (:Background_runner{name:'Payment backlog'});
create (:Background_worker{name:'RealMargin'});
create (:Background_runner{name:'RM aggregator'});
create (:Utility{name:'IURfanout'});
create (:Service:Rest{endpoint:'http://content-v2.staging.api.e-travel.gr',name:'Content-v2'});
create (:Service:Rest{endpoint:'http://hotels-v1.stage.api.e-travel.gr',name:'Hotels-v1'});
create (:Service:Rest{endpoint:'http://hotels-v2.stage.api.e-travel.gr',name:'Hotels-v2'});
create (:Service:HTTP{endpoint:'http://kumquat-v1.staging.api.e-travel.gr/api-v1.0/',name:'Kumquat API'});
create (:Database{name:'CurrencyDB'});

match (a:Background_worker{name:'Hotels x-sell_emailer'}), (b:Service {name:'Hotels-v2'})
create (b)-[:CALL]->(a);

match (a:Service{name:'Refund service'}), (b:Application{name:'Panoramix'})
create (a)-[:CALLED_BY]->(b);

match (a:Scheduled_task{name:'Insurance CLI old'}), (b:Service {name:'Kumquat API'})
create (a)-[:SEND_TO]->(b);

match (a:Service{name:'Currency service v1'}), (b:Database{name:'CurrencyDB'})
create (a)-[:DEPLOYED]->(b);

match (a:Background_runner{name:'Currencies updater v2'}), (b:Database{name:'CurrencyDB'})
create (a)-[:STORES_IN]->(b);

match (a:Background_runner{name:'Payment backlog'}), (b:Database{name:'CommonInformation'})
create (a)-[:READS_FROM]->(b);

create (:Service{name:'AWS redrive'});

match (a:Background_worker{name:'RealMargin'}), (b:Service{name:'AWS redrive'})
create (b)-[:SEND_TO]->(a);


----

//table

//graph
